{"remainingRequest":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18968\\vue_demo\\vue-demo\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\src\\router\\index.js","mtime":1630393411856},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTGF5b3V0IGZyb20gJy4uL2xheW91dC9MYXlvdXQudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL3ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBSZWdpc3RlciBmcm9tICcuLi92aWV3cy9SZWdpc3Rlci52dWUnOwppbXBvcnQgVmVyaWZ5IGZyb20gJy4uL3ZpZXdzL1ZlcmlmeS52dWUnOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0xheW91dCcsCiAgY29tcG9uZW50OiBMYXlvdXQsCiAgcmVkaXJlY3Q6ICIvdXNlciIsCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAndXNlcicsCiAgICBuYW1lOiAnVXNlcicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9Vc2VyIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9wZXJzb24nLAogICAgbmFtZTogJ1BlcnNvbicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9QZXJzb24iKTsKICAgIH0KICB9XQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogUmVnaXN0ZXIKfSwgewogIHBhdGg6ICcvdmVyaWZ5JywKICBuYW1lOiAnVmVyaWZ5JywKICBjb21wb25lbnQ6IFZlcmlmeQp9XTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeShwcm9jZXNzLmVudi5CQVNFX1VSTCksCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOmZkOWItuafkOS6m+mhtemdouemgeatouacqueZu+W9leiuv+mXrgoKdmFyIGxpbWl0UGFnZVBhdGggPSBbJy9hYm91dCddOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAobGltaXRQYWdlUGF0aC5pbmNsdWRlcyh0by5wYXRoKSkgewogICAgLy8g5Yik5patc2Vzc2lvblN0b3JhZ2XmmK/lkKbkv53lrZjkuobnlKjmiLfkv6Hmga8KICAgIHZhciB1c2VyU3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpIHx8ICJ7fSI7CiAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UodXNlclN0cik7CgogICAgaWYgKCF1c2VyLmlkKSB7CiAgICAgIC8vIOi3s+i9rOWIsOeZu+W9lemhtemdogogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAiL2xvZ2luIgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/18968/vue_demo/vue-demo/src/router/index.js"],"names":["createRouter","createWebHistory","Layout","Login","Register","Verify","routes","path","name","component","redirect","children","router","history","process","env","BASE_URL","limitPagePath","beforeEach","to","from","next","includes","userStr","sessionStorage","getItem","user","JSON","parse","id"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAEP,MAHb;AAIEQ,EAAAA,QAAQ,EAAC,OAJX;AAKEC,EAAAA,QAAQ,EAAE,CACR;AACEJ,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAK,OAAO,cAAP,CAAL;AAAA;AAHb,GADQ,EAMR;AACEF,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAK,OAAO,gBAAP,CAAL;AAAA;AAHb,GANQ;AALZ,CADa,EAmBb;AACEF,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CAnBa,EAwBb;AACEI,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEL;AAHb,CAxBa,EA6Bb;AACEG,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAEJ;AAHb,CA7Ba,CAAf;AAoCA,IAAMO,MAAM,GAAGZ,YAAY,CAAC;AAC1Ba,EAAAA,OAAO,EAAEZ,gBAAgB,CAACa,OAAO,CAACC,GAAR,CAAYC,QAAb,CADC;AAE1BV,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B,C,CAIA;;AACA,IAAIW,aAAa,GAAG,CAAC,QAAD,CAApB;AAEAL,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAIJ,aAAa,CAACK,QAAd,CAAuBH,EAAE,CAACZ,IAA1B,CAAJ,EAAqC;AACjC;AACA,QAAIgB,OAAO,GAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,KAAkC,IAAhD;AACA,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAX;;AACA,QAAI,CAACG,IAAI,CAACG,EAAV,EAAc;AACV;AACAR,MAAAA,IAAI,CAAC;AAACd,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AACH,KAHD,MAGO;AACHc,MAAAA,IAAI;AACP;AACJ,GAVD,MAUO;AACHA,IAAAA,IAAI;AACP;AAEJ,CAfD;AAgBA,eAAeT,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport Layout from '../layout/Layout.vue'\nimport Login from '../views/Login.vue'\nimport Register from '../views/Register.vue'\nimport Verify from '../views/Verify.vue'\nconst routes = [\n  {\n    path: '/',\n    name: 'Layout',\n    component: Layout,\n    redirect:\"/user\",\n    children: [\n      {\n        path: 'user',\n        name: 'User',\n        component :()=> import(\"@/views/User\")\n      },\n      {\n        path: '/person',\n        name: 'Person',\n        component :()=> import(\"@/views/Person\")\n      }\n    ]\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: Register\n  },\n  {\n    path: '/verify',\n    name: 'Verify',\n    component: Verify\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n// 限制某些页面禁止未登录访问\nlet limitPagePath = ['/about']\n\nrouter.beforeEach((to, from, next) => {\n    if (limitPagePath.includes(to.path)) {\n        // 判断sessionStorage是否保存了用户信息\n        let userStr = sessionStorage.getItem(\"user\") || \"{}\"\n        let user = JSON.parse(userStr)\n        if (!user.id) {\n            // 跳转到登录页面\n            next({path: \"/login\"})\n        } else {\n            next()\n        }\n    } else {\n        next()\n    }\n\n})\nexport default router\n"]}]}