{"remainingRequest":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\driver\\Accept.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\driver\\Accept.vue","mtime":1630565659188},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBY2NlcHQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtOiB7fSwKICAgICAgY29sb3JzOiBbJyM5OUE5QkYnLCAnI0Y3QkEyQScsICcjRkY5OTAwJ10sCiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICBpZDogMCwKICAgICAgICBjcmVhdGVUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBjcmVhdG9yOiAwLAogICAgICAgIGRlcGFydHVyZTogInN0cmluZyIsCiAgICAgICAgYXJyaXZhbDogInN0cmluZyIsCiAgICAgICAgc3RhcnRUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBkaXN0YW5jZTogMCwKICAgICAgICBwcmljZTogMCwKICAgICAgICBhY2NlcHQ6ICLmnKrmjqXlj5ciCiAgICAgIH0sIHsKICAgICAgICBpZDogMSwKICAgICAgICBjcmVhdGVUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBjcmVhdG9yOiAwLAogICAgICAgIGRlcGFydHVyZTogInN0cmluZyIsCiAgICAgICAgYXJyaXZhbDogInN0cmluZyIsCiAgICAgICAgc3RhcnRUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBkaXN0YW5jZTogMCwKICAgICAgICBwcmljZTogMCwKICAgICAgICBhY2NlcHQ6ICLmnKrmjqXlj5ciCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvb3JkZXIvYWNjZXB0Iiwge30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZvcm0uYWNjZXB0ID09IDApIHsKICAgICAgICB0aGlzLnRhYmxlRGF0YVt0aGlzLmN1cnJlbnRJbmRleF0uYWNjZXB0ID0gIuaOpeWPlyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50YWJsZURhdGFbdGhpcy5jdXJyZW50SW5kZXhdLmFjY2VwdCA9ICLkuI3mjqXlj5ciOwogICAgICB9CgogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLmZvcm0uaWQpIHsKICAgICAgICAvLyDmm7TmlrAKICAgICAgICByZXF1ZXN0LnBvc3QoIi9vcmRlci9hY2NlcHQiLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBpZiAocmVzLm9rKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmm7TmlrDmiJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmxvYWQoKTsgLy8g5Yi35paw6KGo5qC855qE5pWw5o2uCgoKICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIOWFs+mXreW8ueeqlwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOaWsOWingogICAgICAgIHJlcXVlc3QucG9zdCgiL3VzZXIiLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5paw5aKe5oiQ5YqfIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi5sb2FkKCk7IC8vIOWIt+aWsOihqOagvOeahOaVsOaNrgoKCiAgICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyDlhbPpl63lvLnnqpcKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUFjY2VwdDogZnVuY3Rpb24gaGFuZGxlQWNjZXB0KGluZGV4LCByb3cpIHsKICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKTsKICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\driver\\Accept.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div style=\"padding: 10px\">\r\n  <el-table\r\n    :data=\"tableData\"\r\n    border\r\n    style=\"width: 100%\"\r\n    >\r\n    <el-table-column\r\n      fixed\r\n      prop=\"id\"\r\n      label=\"编号\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"createTime\"\r\n      label=\"创建时间\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"creator\"\r\n      label=\"创建者\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"departure\"\r\n      label=\"离开地\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"arrival\"\r\n      label=\"到达地\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"startTime\"\r\n      label=\"出发时间\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"distance\"\r\n      label=\"距离\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"price\"\r\n      label=\"价格\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"accept\"\r\n      label=\"接受\"\r\n      width=\"180\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\">\r\n      <template #default=\"scope\">\r\n          <el-button type=\"primary\" plain @click=\"handleAccept(scope.$index, scope.row)\">接受</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n    <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\r\n      <el-form :model=\"form\" label-width=\"120px\">\r\n        <el-form-item label=\"编号\">\r\n          <el-input v-model=\"form.id\" style=\"width: 80%\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\">\r\n          <el-input v-model=\"form.price\" style=\"width: 80%\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"接受\">\r\n          <el-radio v-model=\"form.accept\" :label=\"接受\">接受</el-radio>\r\n          <el-radio v-model=\"form.accept\" :label=\"不接受\">不接受</el-radio>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n          </span>\r\n      </template>\r\n    </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Accept\",\r\n    data() {\r\n      return {\r\n        currentIndex: 0,\r\n        dialogVisible: false,\r\n        form:{},\r\n        colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\r\n        tableData: [{\r\n            id: 0,\r\n            createTime: \"2021-09-02T02:02:57.476Z\",\r\n            creator: 0,\r\n            departure: \"string\",\r\n            arrival: \"string\",\r\n            startTime: \"2021-09-02T02:02:57.476Z\",\r\n            distance: 0,\r\n            price: 0,\r\n            accept: \"未接受\"\r\n        },\r\n        {\r\n            id: 1,\r\n            createTime: \"2021-09-02T02:02:57.476Z\",\r\n            creator: 0,\r\n            departure: \"string\",\r\n            arrival: \"string\",\r\n            startTime: \"2021-09-02T02:02:57.476Z\",\r\n            distance: 0,\r\n            price: 0,\r\n            accept: \"未接受\"\r\n        },\r\n        ]\r\n      }\r\n    },\r\n    methods:{\r\n    load() {\r\n      request.get(\"/order/accept\", {\r\n      }).then(res => {\r\n        this.tableData = res.data\r\n      })\r\n    },\r\n    save() {\r\n        if(this.form.accept==0){\r\n            this.tableData[this.currentIndex].accept=\"接受\"\r\n      }\r\n      else{\r\n          this.tableData[this.currentIndex].accept=\"不接受\"\r\n      }\r\n      this.dialogVisible=false\r\n      if (this.form.id) {  // 更新\r\n        request.post(\"/order/accept\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.ok) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"更新成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      } else {  // 新增\r\n        request.post(\"/user\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"新增成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      }\r\n\r\n    },\r\n    handleAccept(index, row) {\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.currentIndex=index\r\n      this.dialogVisible = true\r\n    },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}