{"remainingRequest":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\Score.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\Score.vue","mtime":1630563061221},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\18968\\vue_demo\\vue-demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTY29yZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm06IHt9LAogICAgICBjb2xvcnM6IFsnIzk5QTlCRicsICcjRjdCQTJBJywgJyNGRjk5MDAnXSwKICAgICAgdGFibGVEYXRhOiBbewogICAgICAgIGlkOiAwLAogICAgICAgIGNyZWF0ZVRpbWU6ICIyMDIxLTA5LTAyVDAyOjAyOjU3LjQ3NloiLAogICAgICAgIGNyZWF0b3I6IDAsCiAgICAgICAgZGVwYXJ0dXJlOiAic3RyaW5nIiwKICAgICAgICBhcnJpdmFsOiAic3RyaW5nIiwKICAgICAgICBzdGFydFRpbWU6ICIyMDIxLTA5LTAyVDAyOjAyOjU3LjQ3NloiLAogICAgICAgIGVuZFRpbWU6ICIyMDIxLTA5LTAyVDAyOjAyOjU3LjQ3NloiLAogICAgICAgIGRpc3RhbmNlOiAwLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIGRyaXZlcl9pZGVudGl0eUNvZGU6ICJzdHJpbmciLAogICAgICAgIHNjb3JlOiAwCiAgICAgIH0sIHsKICAgICAgICBpZDogMSwKICAgICAgICBjcmVhdGVUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBjcmVhdG9yOiAwLAogICAgICAgIGRlcGFydHVyZTogInN0cmluZyIsCiAgICAgICAgYXJyaXZhbDogInN0cmluZyIsCiAgICAgICAgc3RhcnRUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBlbmRUaW1lOiAiMjAyMS0wOS0wMlQwMjowMjo1Ny40NzZaIiwKICAgICAgICBkaXN0YW5jZTogMCwKICAgICAgICBwcmljZTogMCwKICAgICAgICBkcml2ZXJfaWRlbnRpdHlDb2RlOiAic3RyaW5nIiwKICAgICAgICBzY29yZTogMAogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmdldCgiL29yZGVyL3JhdGluZyIsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnRhYmxlRGF0YVt0aGlzLmN1cnJlbnRJbmRleF0uc2NvcmUgPSB0aGlzLmZvcm0uc2NvcmU7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMuZm9ybS5pZCkgewogICAgICAgIC8vIOabtOaWsAogICAgICAgIHJlcXVlc3QucG9zdCgiL29yZGVyL3JhdGluZyIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMub2spIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsOaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIubG9hZCgpOyAvLyDliLfmlrDooajmoLznmoTmlbDmja4KCgogICAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy8g5YWz6Zet5by556qXCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5paw5aKeCiAgICAgICAgcmVxdWVzdC5wb3N0KCIvdXNlciIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmlrDlop7miJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmxvYWQoKTsgLy8g5Yi35paw6KGo5qC855qE5pWw5o2uCgoKICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIOWFs+mXreW8ueeqlwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuZm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSk7CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\18968\\vue_demo\\vue-demo\\src\\views\\Score.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div style=\"padding: 10px\">\r\n  <el-table\r\n    :data=\"tableData\"\r\n    border\r\n    style=\"width: 100%\"\r\n    >\r\n    <el-table-column\r\n      fixed\r\n      prop=\"id\"\r\n      label=\"编号\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"createTime\"\r\n      label=\"创建时间\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"creator\"\r\n      label=\"创建者\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"departure\"\r\n      label=\"离开地\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"arrival\"\r\n      label=\"到达地\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"startTime\"\r\n      label=\"出发时间\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"endTime\"\r\n      label=\"结束时间\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"distance\"\r\n      label=\"距离\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"price\"\r\n      label=\"价格\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"driver_identityCode\"\r\n      label=\"司机编号\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"score\"\r\n      label=\"评分\"\r\n      width=\"180\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\">\r\n      <template #default=\"scope\">\r\n          <el-button type=\"primary\" plain @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n    <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\r\n      <el-form :model=\"form\" label-width=\"120px\">\r\n        <el-form-item label=\"编号\">\r\n          <el-input v-model=\"form.id\" style=\"width: 80%\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\">\r\n          <el-input v-model=\"form.price\" style=\"width: 80%\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"评分\">\r\n                <el-col :span=\"11\">\r\n                    <el-rate v-model=\"form.score\" :colors=\"colors\"></el-rate>\r\n                    </el-col>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n          </span>\r\n      </template>\r\n    </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Score\",\r\n    data() {\r\n      return {\r\n        currentIndex: 0,\r\n        dialogVisible: false,\r\n        form:{},\r\n        colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\r\n        tableData: [{\r\n            id: 0,\r\n            createTime: \"2021-09-02T02:02:57.476Z\",\r\n            creator: 0,\r\n            departure: \"string\",\r\n            arrival: \"string\",\r\n            startTime: \"2021-09-02T02:02:57.476Z\",\r\n            endTime: \"2021-09-02T02:02:57.476Z\",\r\n            distance: 0,\r\n            price: 0,\r\n            driver_identityCode: \"string\",\r\n            score: 0\r\n        },\r\n        {\r\n            id: 1,\r\n            createTime: \"2021-09-02T02:02:57.476Z\",\r\n            creator: 0,\r\n            departure: \"string\",\r\n            arrival: \"string\",\r\n            startTime: \"2021-09-02T02:02:57.476Z\",\r\n            endTime: \"2021-09-02T02:02:57.476Z\",\r\n            distance: 0,\r\n            price: 0,\r\n            driver_identityCode: \"string\",\r\n            score: 0\r\n        },\r\n        ]\r\n      }\r\n    },\r\n    methods:{\r\n    load() {\r\n      request.get(\"/order/rating\", {\r\n      }).then(res => {\r\n        this.tableData = res.data\r\n      })\r\n    },\r\n    save() {\r\n      this.tableData[this.currentIndex].score=this.form.score\r\n      this.dialogVisible=false\r\n      if (this.form.id) {  // 更新\r\n        request.post(\"/order/rating\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.ok) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"更新成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      } else {  // 新增\r\n        request.post(\"/user\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"新增成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      }\r\n\r\n    },\r\n    handleEdit(index, row) {\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.currentIndex=index\r\n      this.dialogVisible = true\r\n    },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}